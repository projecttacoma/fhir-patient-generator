{"id":"545c2ad9-9742-4d50-a2f0-ee3d8b366dfd","resourceType":"MeasureReport","period":{},"status":"complete","type":"individual","measure":"http://hl7.org/fhir/us/cqfmeasures/Measure/EXM104","text":{"status":"generated","div":"<div><h2>Population Group: group-1</h2><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"41\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>define &quot;SDE Ethnicity&quot;:\r\n  </span><span data-ref-id=\"40\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"39\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>SDE</span></span><span>.</span><span data-ref-id=\"40\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&quot;SDE Ethnicity&quot;</span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"44\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>define &quot;SDE Payer&quot;:\r\n\t</span><span data-ref-id=\"43\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"42\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>SDE</span></span><span>.</span><span data-ref-id=\"43\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&quot;SDE Payer&quot;</span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"47\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>define &quot;SDE Race&quot;:\r\n  </span><span data-ref-id=\"46\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"45\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>SDE</span></span><span>.</span><span data-ref-id=\"46\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&quot;SDE Race&quot;</span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"50\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>define &quot;SDE Sex&quot;:\r\n\t</span><span data-ref-id=\"49\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"48\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>SDE</span></span><span>.</span><span data-ref-id=\"49\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&quot;SDE Sex&quot;</span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"53\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>define &quot;Initial Population&quot;:\r\n\t</span><span data-ref-id=\"52\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"51\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>TJC</span></span><span>.</span><span data-ref-id=\"52\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&quot;Encounter with Principal Diagnosis and Age&quot;</span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"56\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>define &quot;Denominator&quot;:\r\n\t</span><span data-ref-id=\"55\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"54\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>TJC</span></span><span>.</span><span data-ref-id=\"55\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&quot;Ischemic Stroke Encounter&quot;</span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"62\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>define &quot;Denominator Exclusion&quot;:\r\n\t</span><span data-ref-id=\"61\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"58\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"57\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>TJC</span></span><span>.</span><span data-ref-id=\"58\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&quot;Ischemic Stroke Encounters with Discharge Disposition&quot;</span></span></span><span>\r\n\t\tunion </span><span data-ref-id=\"60\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"59\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>TJC</span></span><span>.</span><span data-ref-id=\"60\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&quot;Comfort Measures during Hospitalization&quot;</span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"98\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>define &quot;Antithrombotic Therapy at Discharge&quot;:\r\n\t</span><span data-ref-id=\"97\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span data-ref-id=\"66\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"65\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"65\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>[&quot;MedicationRequest&quot;: </span><span><span>medication</span></span><span> in </span><span><span>&quot;Antithrombotic Therapy&quot;</span></span><span>]</span></span></span><span> Antithrombotic</span></span></span><span>\r\n  //Note: expressed as an or with equivalence semantics pending resolution of potential CQL issue.\r\n\t  </span><span data-ref-id=\"96\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>where </span><span data-ref-id=\"96\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"90\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"83\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>exists </span><span data-ref-id=\"82\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>(</span><span data-ref-id=\"82\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span data-ref-id=\"68\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"67\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span>Antithrombotic.category</span></span></span><span> C</span></span></span><span> </span><span data-ref-id=\"81\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>where </span><span data-ref-id=\"81\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"74\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"71\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"69\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"71\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>ToConcept(</span><span data-ref-id=\"70\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>C</span></span><span>)</span></span></span><span> ~ </span><span data-ref-id=\"73\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"72\" style=\"\"><span>Global</span></span><span>.</span><span data-ref-id=\"73\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&quot;Community&quot;</span></span></span></span><span> or </span><span data-ref-id=\"80\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"77\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"75\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"77\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>ToConcept(</span><span data-ref-id=\"76\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>C</span></span><span>)</span></span></span><span> ~ </span><span data-ref-id=\"79\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"78\" style=\"\"><span>Global</span></span><span>.</span><span data-ref-id=\"79\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&quot;Discharge&quot;</span></span></span></span></span></span></span><span>)</span></span></span><span>\r\n      and </span><span data-ref-id=\"89\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"85\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"84\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>Antithrombotic</span></span><span>.</span><span data-ref-id=\"85\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>status</span></span></span><span> in </span><span data-ref-id=\"88\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>{ </span><span data-ref-id=\"86\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&#x27;active&#x27;</span></span><span>, </span><span data-ref-id=\"87\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&#x27;completed&#x27;</span></span><span> }</span></span></span></span><span>\r\n\t    and </span><span data-ref-id=\"95\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"93\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"92\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"91\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>Antithrombotic</span></span><span>.</span><span data-ref-id=\"92\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>intent</span></span></span><span>.</span><span data-ref-id=\"93\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>value</span></span></span><span> &#x3D; </span><span data-ref-id=\"94\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&#x27;order&#x27;</span></span></span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"110\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>define &quot;Numerator&quot;:\r\n\t</span><span data-ref-id=\"109\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span data-ref-id=\"64\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"63\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span>TJC.&quot;Ischemic Stroke Encounter&quot;</span></span></span><span> IschemicStrokeEncounter</span></span></span><span>\r\n\t\t</span><span data-ref-id=\"108\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>with </span><span data-ref-id=\"100\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"99\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span>&quot;Antithrombotic Therapy at Discharge&quot;</span></span></span><span> DischargeAntithrombotic</span></span><span>\r\n\t\t\tsuch that </span><span data-ref-id=\"107\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"102\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"101\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>DischargeAntithrombotic</span></span><span>.</span><span data-ref-id=\"102\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>authoredOn</span></span></span><span data-ref-id=\"107\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"> during </span><span data-ref-id=\"106\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"103\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>Global</span></span><span>.</span><span data-ref-id=\"106\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&quot;Normalize Interval&quot;(</span><span data-ref-id=\"105\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"104\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>IschemicStrokeEncounter</span></span><span>.</span><span data-ref-id=\"105\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>period</span></span></span><span>)</span></span></span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"34\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>define &quot;SDE Ethnicity&quot;:\r\n  </span><span data-ref-id=\"33\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span><span data-ref-id=\"18\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"17\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>(</span><span data-ref-id=\"17\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>flatten </span><span data-ref-id=\"16\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>(\r\n    </span><span data-ref-id=\"16\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span><span data-ref-id=\"8\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"7\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span>Patient.extension</span></span></span><span> Extension</span></span></span><span>\r\n      </span><span data-ref-id=\"12\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>where </span><span data-ref-id=\"12\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"10\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"9\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>Extension</span></span><span>.</span><span data-ref-id=\"10\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>url</span></span></span><span> &#x3D; </span><span data-ref-id=\"11\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&#x27;http://hl7.org/fhir/us/core/StructureDefinition/us-core-ethnicity&#x27;</span></span></span></span><span>\r\n        </span><span data-ref-id=\"15\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>return </span><span data-ref-id=\"14\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"13\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>Extension</span></span><span>.</span><span data-ref-id=\"14\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>extension</span></span></span></span></span><span>\r\n  )</span></span></span><span>)</span></span><span> E</span></span></span><span>\r\n    </span><span data-ref-id=\"27\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>where </span><span data-ref-id=\"27\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"22\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"20\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"19\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>E</span></span><span>.</span><span data-ref-id=\"20\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>url</span></span></span><span> &#x3D; </span><span data-ref-id=\"21\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&#x27;ombCategory&#x27;</span></span></span><span>\r\n      or </span><span data-ref-id=\"26\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"24\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"23\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>E</span></span><span>.</span><span data-ref-id=\"24\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>url</span></span></span><span> &#x3D; </span><span data-ref-id=\"25\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&#x27;detailed&#x27;</span></span></span></span></span><span>\r\n    </span><span data-ref-id=\"32\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>return </span><span data-ref-id=\"31\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"29\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"28\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>E</span></span><span>.</span><span data-ref-id=\"29\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>value</span></span></span><span> as </span><span data-ref-id=\"30\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>Coding</span></span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"44\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>define &quot;SDE Payer&quot;:\r\n    </span><span data-ref-id=\"43\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span><span data-ref-id=\"36\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"35\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"35\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>[Coverage: </span><span><span>type</span></span><span> in </span><span><span>&quot;Payer&quot;</span></span><span>]</span></span></span><span> Payer</span></span></span><span>\r\n      </span><span data-ref-id=\"42\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>return </span><span data-ref-id=\"41\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>{\r\n        </span><span><span>code: </span><span data-ref-id=\"38\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"37\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>Payer</span></span><span>.</span><span data-ref-id=\"38\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>type</span></span></span></span><span>,\r\n        </span><span><span>period: </span><span data-ref-id=\"40\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"39\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>Payer</span></span><span>.</span><span data-ref-id=\"40\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>period</span></span></span></span><span>\r\n      }</span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"72\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>define &quot;SDE Race&quot;:\r\n  </span><span data-ref-id=\"71\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span><span data-ref-id=\"56\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"55\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>(</span><span data-ref-id=\"55\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>flatten </span><span data-ref-id=\"54\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>(\r\n    </span><span data-ref-id=\"54\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span><span data-ref-id=\"46\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"45\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span>Patient.extension</span></span></span><span> Extension</span></span></span><span>\r\n      </span><span data-ref-id=\"50\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>where </span><span data-ref-id=\"50\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"48\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"47\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>Extension</span></span><span>.</span><span data-ref-id=\"48\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>url</span></span></span><span> &#x3D; </span><span data-ref-id=\"49\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&#x27;http://hl7.org/fhir/us/core/StructureDefinition/us-core-race&#x27;</span></span></span></span><span>\r\n        </span><span data-ref-id=\"53\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>return </span><span data-ref-id=\"52\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"51\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>Extension</span></span><span>.</span><span data-ref-id=\"52\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>extension</span></span></span></span></span><span>\r\n  )</span></span></span><span>)</span></span><span> E</span></span></span><span>\r\n    </span><span data-ref-id=\"65\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>where </span><span data-ref-id=\"65\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"60\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"58\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"57\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>E</span></span><span>.</span><span data-ref-id=\"58\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>url</span></span></span><span> &#x3D; </span><span data-ref-id=\"59\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&#x27;ombCategory&#x27;</span></span></span><span>\r\n      or </span><span data-ref-id=\"64\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"62\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"61\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>E</span></span><span>.</span><span data-ref-id=\"62\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>url</span></span></span><span> &#x3D; </span><span data-ref-id=\"63\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&#x27;detailed&#x27;</span></span></span></span></span><span>\r\n    </span><span data-ref-id=\"70\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>return </span><span data-ref-id=\"69\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"67\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"66\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>E</span></span><span>.</span><span data-ref-id=\"67\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>value</span></span></span><span> as </span><span data-ref-id=\"68\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>Coding</span></span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"93\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>define &quot;SDE Sex&quot;:\r\n  </span><span data-ref-id=\"92\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>case\r\n    </span><span data-ref-id=\"81\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>when </span><span data-ref-id=\"76\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"74\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"73\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>Patient</span></span><span>.</span><span data-ref-id=\"74\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>gender</span></span></span><span> &#x3D; </span><span data-ref-id=\"75\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&#x27;male&#x27;</span></span></span><span> then </span><span data-ref-id=\"80\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>Code { </span><span><span>code: </span><span data-ref-id=\"77\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&#x27;M&#x27;</span></span></span><span>, </span><span><span>system: </span><span data-ref-id=\"78\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&#x27;http://hl7.org/fhir/v3/AdministrativeGender&#x27;</span></span></span><span>, </span><span><span>display: </span><span data-ref-id=\"79\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&#x27;Male&#x27;</span></span></span><span> }</span></span></span><span>\r\n    </span><span data-ref-id=\"90\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>when </span><span data-ref-id=\"85\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"83\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"82\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>Patient</span></span><span>.</span><span data-ref-id=\"83\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>gender</span></span></span><span> &#x3D; </span><span data-ref-id=\"84\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&#x27;female&#x27;</span></span></span><span> then </span><span data-ref-id=\"89\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>Code { </span><span><span>code: </span><span data-ref-id=\"86\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&#x27;F&#x27;</span></span></span><span>, </span><span><span>system: </span><span data-ref-id=\"87\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&#x27;http://hl7.org/fhir/v3/AdministrativeGender&#x27;</span></span></span><span>, </span><span><span>display: </span><span data-ref-id=\"88\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&#x27;Female&#x27;</span></span></span><span> }</span></span></span><span data-ref-id=\"91\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\">\r\n    else null\r\n  end</span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"87\" style=\"\"><span>define function &quot;LengthInDays&quot;(Value </span><span data-ref-id=\"81\" style=\"\"><span>Interval&lt;</span><span data-ref-id=\"80\" style=\"\"><span>DateTime</span></span><span>&gt;</span></span><span>):\r\n\t</span><span data-ref-id=\"86\" style=\"\"><span data-ref-id=\"86\" style=\"\"><span>difference in days between </span><span data-ref-id=\"83\" style=\"\"><span>start of </span><span data-ref-id=\"82\" style=\"\"><span>Value</span></span></span><span> and </span><span data-ref-id=\"85\" style=\"\"><span>end of </span><span data-ref-id=\"84\" style=\"\"><span>Value</span></span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"113\" style=\"\"><span>define function &quot;ToDate&quot;(Value </span><span data-ref-id=\"99\" style=\"\"><span>DateTime</span></span><span>):\r\n\t</span><span data-ref-id=\"112\" style=\"\"><span data-ref-id=\"112\" style=\"\"><span>DateTime(</span><span data-ref-id=\"101\" style=\"\"><span>year from </span><span data-ref-id=\"100\" style=\"\"><span>Value</span></span></span><span>, </span><span data-ref-id=\"103\" style=\"\"><span>month from </span><span data-ref-id=\"102\" style=\"\"><span>Value</span></span></span><span>, </span><span data-ref-id=\"105\" style=\"\"><span>day from </span><span data-ref-id=\"104\" style=\"\"><span>Value</span></span></span><span data-ref-id=\"106\" style=\"\">, 0, 0, 0, 0, </span><span data-ref-id=\"111\" style=\"\"><span>timezoneoffset from </span><span data-ref-id=\"110\" style=\"\"><span>Value</span></span></span><span>)</span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"147\" style=\"\"><span>define function &quot;CalendarAgeInYearsAt&quot;(BirthDateTime </span><span data-ref-id=\"140\" style=\"\"><span>DateTime</span></span><span>, AsOf </span><span data-ref-id=\"141\" style=\"\"><span>DateTime</span></span><span>):\r\n\t</span><span data-ref-id=\"146\" style=\"\"><span data-ref-id=\"146\" style=\"\"><span>years between </span><span data-ref-id=\"143\" style=\"\"><span>ToDate(</span><span data-ref-id=\"142\" style=\"\"><span>BirthDateTime</span></span><span>)</span></span><span>and </span><span data-ref-id=\"145\" style=\"\"><span>ToDate(</span><span data-ref-id=\"144\" style=\"\"><span>AsOf</span></span><span>)</span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"303\" style=\"\"><span>define function &quot;HospitalizationWithObservation&quot;(TheEncounter </span><span data-ref-id=\"251\" style=\"\"><span>FHIR.Encounter</span></span><span>):\r\n\t</span><span data-ref-id=\"302\" style=\"\"><span data-ref-id=\"302\" style=\"\"><span><span data-ref-id=\"253\" style=\"\"><span data-ref-id=\"252\" style=\"\"><span><span>TheEncounter</span></span></span><span> Visit</span></span></span><span>\r\n\t\t</span><span><span>let </span><span data-ref-id=\"269\" style=\"\"><span>ObsVisit: </span><span data-ref-id=\"268\" style=\"\"><span>Last(</span><span data-ref-id=\"267\" style=\"\"><span><span data-ref-id=\"255\" style=\"\"><span data-ref-id=\"254\" style=\"\"><span data-ref-id=\"254\" style=\"\"><span>[Encounter: </span><span><span>&quot;Observation Services&quot;</span></span><span>]</span></span></span><span> LastObs</span></span></span><span>\r\n\t\t\t\t</span><span data-ref-id=\"262\" style=\"\"><span>where </span><span data-ref-id=\"262\" style=\"\"><span data-ref-id=\"257\" style=\"\"><span data-ref-id=\"256\" style=\"\"><span>LastObs</span></span><span>.</span><span data-ref-id=\"257\" style=\"\"><span>period</span></span></span><span> </span><span data-ref-id=\"262\" style=\"\"><span>ends </span><span data-ref-id=\"261\" style=\"\"><span>1 hour</span></span><span> or less on or before</span></span><span> </span><span data-ref-id=\"260\" style=\"\"><span>start of </span><span data-ref-id=\"259\" style=\"\"><span data-ref-id=\"258\" style=\"\"><span>Visit</span></span><span>.</span><span data-ref-id=\"259\" style=\"\"><span>period</span></span></span></span></span></span><span>\r\n\t\t\t\t</span><span data-ref-id=\"266\" style=\"\"><span>sort by </span><span data-ref-id=\"265\" style=\"\"><span data-ref-id=\"264\" style=\"\"><span>end of </span><span data-ref-id=\"263\" style=\"\"><span>period</span></span></span></span></span></span><span>\r\n\t\t\t)</span></span></span><span>,\r\n\t\t\t</span><span data-ref-id=\"277\" style=\"\"><span>VisitStart: </span><span data-ref-id=\"276\" style=\"\"><span>Coalesce(</span><span data-ref-id=\"272\" style=\"\"><span>start of </span><span data-ref-id=\"271\" style=\"\"><span data-ref-id=\"270\" style=\"\"><span>ObsVisit</span></span><span>.</span><span data-ref-id=\"271\" style=\"\"><span>period</span></span></span></span><span>, </span><span data-ref-id=\"275\" style=\"\"><span>start of </span><span data-ref-id=\"274\" style=\"\"><span data-ref-id=\"273\" style=\"\"><span>Visit</span></span><span>.</span><span data-ref-id=\"274\" style=\"\"><span>period</span></span></span></span><span>)</span></span></span><span>,\r\n\t\t\t</span><span data-ref-id=\"291\" style=\"\"><span>EDVisit: </span><span data-ref-id=\"290\" style=\"\"><span>Last(</span><span data-ref-id=\"289\" style=\"\"><span><span data-ref-id=\"279\" style=\"\"><span data-ref-id=\"278\" style=\"\"><span data-ref-id=\"278\" style=\"\"><span>[Encounter: </span><span><span>&quot;Emergency Department Visit&quot;</span></span><span>]</span></span></span><span> LastED</span></span></span><span>\r\n\t\t\t\t</span><span data-ref-id=\"284\" style=\"\"><span>where </span><span data-ref-id=\"284\" style=\"\"><span data-ref-id=\"281\" style=\"\"><span data-ref-id=\"280\" style=\"\"><span>LastED</span></span><span>.</span><span data-ref-id=\"281\" style=\"\"><span>period</span></span></span><span> </span><span data-ref-id=\"284\" style=\"\"><span>ends </span><span data-ref-id=\"283\" style=\"\"><span>1 hour</span></span><span> or less on or before</span></span><span> </span><span data-ref-id=\"282\" style=\"\"><span>VisitStart</span></span></span></span><span>\r\n\t\t\t\t</span><span data-ref-id=\"288\" style=\"\"><span>sort by </span><span data-ref-id=\"287\" style=\"\"><span data-ref-id=\"286\" style=\"\"><span>end of </span><span data-ref-id=\"285\" style=\"\"><span>period</span></span></span></span></span></span><span>\r\n\t\t\t)</span></span></span></span><span>\r\n\t\t</span><span data-ref-id=\"301\" style=\"\"><span>return </span><span data-ref-id=\"300\" style=\"\"><span>Interval[</span><span data-ref-id=\"296\" style=\"\"><span>Coalesce(</span><span data-ref-id=\"294\" style=\"\"><span>start of </span><span data-ref-id=\"293\" style=\"\"><span data-ref-id=\"292\" style=\"\"><span>EDVisit</span></span><span>.</span><span data-ref-id=\"293\" style=\"\"><span>period</span></span></span></span><span>, </span><span data-ref-id=\"295\" style=\"\"><span>VisitStart</span></span><span>)</span></span><span>, </span><span data-ref-id=\"299\" style=\"\"><span>end of </span><span data-ref-id=\"298\" style=\"\"><span data-ref-id=\"297\" style=\"\"><span>Visit</span></span><span>.</span><span data-ref-id=\"298\" style=\"\"><span>period</span></span></span></span><span>]</span></span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"443\" style=\"\"><span>define function &quot;Normalize Interval&quot;(choice </span><span data-ref-id=\"316\" style=\"\"><span>Choice&lt;</span><span data-ref-id=\"309\" style=\"\"><span>FHIR.dateTime</span></span><span>, </span><span data-ref-id=\"310\" style=\"\"><span>FHIR.Period</span></span><span>, </span><span data-ref-id=\"311\" style=\"\"><span>FHIR.Timing</span></span><span>, </span><span data-ref-id=\"312\" style=\"\"><span>FHIR.instant</span></span><span>, </span><span data-ref-id=\"313\" style=\"\"><span>FHIR.string</span></span><span>, </span><span data-ref-id=\"314\" style=\"\"><span>FHIR.Age</span></span><span>, </span><span data-ref-id=\"315\" style=\"\"><span>FHIR.Range</span></span><span>&gt;</span></span><span>):\r\n  </span><span data-ref-id=\"442\" style=\"\"><span data-ref-id=\"442\" style=\"\"><span>case\r\n\t  </span><span data-ref-id=\"331\" style=\"\"><span>when </span><span data-ref-id=\"319\" style=\"\"><span data-ref-id=\"317\" style=\"\"><span>choice</span></span><span> is </span><span data-ref-id=\"318\" style=\"\"><span>FHIR.dateTime</span></span></span><span> then\r\n    \t</span><span data-ref-id=\"330\" style=\"\"><span>Interval[</span><span data-ref-id=\"324\" style=\"\"><span data-ref-id=\"320\" style=\"\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"324\" style=\"\"><span>ToDateTime(</span><span data-ref-id=\"323\" style=\"\"><span data-ref-id=\"321\" style=\"\"><span>choice</span></span><span> as </span><span data-ref-id=\"322\" style=\"\"><span>FHIR.dateTime</span></span></span><span>)</span></span></span><span>, </span><span data-ref-id=\"329\" style=\"\"><span data-ref-id=\"325\" style=\"\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"329\" style=\"\"><span>ToDateTime(</span><span data-ref-id=\"328\" style=\"\"><span data-ref-id=\"326\" style=\"\"><span>choice</span></span><span> as </span><span data-ref-id=\"327\" style=\"\"><span>FHIR.dateTime</span></span></span><span>)</span></span></span><span>]</span></span></span><span>\r\n\t\t</span><span data-ref-id=\"340\" style=\"\"><span>when </span><span data-ref-id=\"334\" style=\"\"><span data-ref-id=\"332\" style=\"\"><span>choice</span></span><span> is </span><span data-ref-id=\"333\" style=\"\"><span>FHIR.Period</span></span></span><span> then\r\n  \t\t</span><span data-ref-id=\"339\" style=\"\"><span data-ref-id=\"335\" style=\"\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"339\" style=\"\"><span>ToInterval(</span><span data-ref-id=\"338\" style=\"\"><span data-ref-id=\"336\" style=\"\"><span>choice</span></span><span> as </span><span data-ref-id=\"337\" style=\"\"><span>FHIR.Period</span></span></span><span>)</span></span></span></span><span>\r\n\t\t</span><span data-ref-id=\"355\" style=\"\"><span>when </span><span data-ref-id=\"343\" style=\"\"><span data-ref-id=\"341\" style=\"\"><span>choice</span></span><span> is </span><span data-ref-id=\"342\" style=\"\"><span>FHIR.instant</span></span></span><span> then\r\n\t\t\t</span><span data-ref-id=\"354\" style=\"\"><span>Interval[</span><span data-ref-id=\"348\" style=\"\"><span data-ref-id=\"344\" style=\"\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"348\" style=\"\"><span>ToDateTime(</span><span data-ref-id=\"347\" style=\"\"><span data-ref-id=\"345\" style=\"\"><span>choice</span></span><span> as </span><span data-ref-id=\"346\" style=\"\"><span>FHIR.instant</span></span></span><span>)</span></span></span><span>, </span><span data-ref-id=\"353\" style=\"\"><span data-ref-id=\"349\" style=\"\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"353\" style=\"\"><span>ToDateTime(</span><span data-ref-id=\"352\" style=\"\"><span data-ref-id=\"350\" style=\"\"><span>choice</span></span><span> as </span><span data-ref-id=\"351\" style=\"\"><span>FHIR.instant</span></span></span><span>)</span></span></span><span>]</span></span></span><span>\r\n\t\t</span><span data-ref-id=\"382\" style=\"\"><span>when </span><span data-ref-id=\"358\" style=\"\"><span data-ref-id=\"356\" style=\"\"><span>choice</span></span><span> is </span><span data-ref-id=\"357\" style=\"\"><span>FHIR.Age</span></span></span><span> then\r\n\t\t  </span><span data-ref-id=\"381\" style=\"\"><span>Interval[</span><span data-ref-id=\"368\" style=\"\"><span data-ref-id=\"362\" style=\"\"><span data-ref-id=\"359\" style=\"\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"362\" style=\"\"><span>ToDate(</span><span data-ref-id=\"361\" style=\"\"><span data-ref-id=\"360\" style=\"\"><span>Patient</span></span><span>.</span><span data-ref-id=\"361\" style=\"\"><span>birthDate</span></span></span><span>)</span></span></span><span> + </span><span data-ref-id=\"367\" style=\"\"><span data-ref-id=\"363\" style=\"\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"367\" style=\"\"><span>ToQuantity(</span><span data-ref-id=\"366\" style=\"\"><span data-ref-id=\"364\" style=\"\"><span>choice</span></span><span> as </span><span data-ref-id=\"365\" style=\"\"><span>FHIR.Age</span></span></span><span>)</span></span></span></span><span>,\r\n\t\t\t  </span><span data-ref-id=\"380\" style=\"\"><span data-ref-id=\"378\" style=\"\"><span data-ref-id=\"372\" style=\"\"><span data-ref-id=\"369\" style=\"\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"372\" style=\"\"><span>ToDate(</span><span data-ref-id=\"371\" style=\"\"><span data-ref-id=\"370\" style=\"\"><span>Patient</span></span><span>.</span><span data-ref-id=\"371\" style=\"\"><span>birthDate</span></span></span><span>)</span></span></span><span> + </span><span data-ref-id=\"377\" style=\"\"><span data-ref-id=\"373\" style=\"\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"377\" style=\"\"><span>ToQuantity(</span><span data-ref-id=\"376\" style=\"\"><span data-ref-id=\"374\" style=\"\"><span>choice</span></span><span> as </span><span data-ref-id=\"375\" style=\"\"><span>FHIR.Age</span></span></span><span>)</span></span></span></span><span> + </span><span data-ref-id=\"379\" style=\"\"><span>1 year</span></span></span><span>)</span></span></span><span>\r\n\t\t</span><span data-ref-id=\"411\" style=\"\"><span>when </span><span data-ref-id=\"385\" style=\"\"><span data-ref-id=\"383\" style=\"\"><span>choice</span></span><span> is </span><span data-ref-id=\"384\" style=\"\"><span>FHIR.Range</span></span></span><span> then\r\n\t\t  </span><span data-ref-id=\"410\" style=\"\"><span>Interval[</span><span data-ref-id=\"396\" style=\"\"><span data-ref-id=\"389\" style=\"\"><span data-ref-id=\"386\" style=\"\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"389\" style=\"\"><span>ToDate(</span><span data-ref-id=\"388\" style=\"\"><span data-ref-id=\"387\" style=\"\"><span>Patient</span></span><span>.</span><span data-ref-id=\"388\" style=\"\"><span>birthDate</span></span></span><span>)</span></span></span><span> + </span><span data-ref-id=\"395\" style=\"\"><span data-ref-id=\"390\" style=\"\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"395\" style=\"\"><span>ToQuantity(</span><span data-ref-id=\"394\" style=\"\"><span data-ref-id=\"393\" style=\"\"><span>(</span><span data-ref-id=\"393\" style=\"\"><span data-ref-id=\"391\" style=\"\"><span>choice</span></span><span> as </span><span data-ref-id=\"392\" style=\"\"><span>FHIR.Range</span></span></span><span>)</span></span><span>.</span><span data-ref-id=\"394\" style=\"\"><span>low</span></span></span><span>)</span></span></span></span><span>,\r\n\t\t\t  </span><span data-ref-id=\"409\" style=\"\"><span data-ref-id=\"407\" style=\"\"><span data-ref-id=\"400\" style=\"\"><span data-ref-id=\"397\" style=\"\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"400\" style=\"\"><span>ToDate(</span><span data-ref-id=\"399\" style=\"\"><span data-ref-id=\"398\" style=\"\"><span>Patient</span></span><span>.</span><span data-ref-id=\"399\" style=\"\"><span>birthDate</span></span></span><span>)</span></span></span><span> + </span><span data-ref-id=\"406\" style=\"\"><span data-ref-id=\"401\" style=\"\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"406\" style=\"\"><span>ToQuantity(</span><span data-ref-id=\"405\" style=\"\"><span data-ref-id=\"404\" style=\"\"><span>(</span><span data-ref-id=\"404\" style=\"\"><span data-ref-id=\"402\" style=\"\"><span>choice</span></span><span> as </span><span data-ref-id=\"403\" style=\"\"><span>FHIR.Range</span></span></span><span>)</span></span><span>.</span><span data-ref-id=\"405\" style=\"\"><span>high</span></span></span><span>)</span></span></span></span><span> + </span><span data-ref-id=\"408\" style=\"\"><span>1 year</span></span></span><span>)</span></span></span><span>\r\n\t\t</span><span data-ref-id=\"424\" style=\"\"><span>when </span><span data-ref-id=\"414\" style=\"\"><span data-ref-id=\"412\" style=\"\"><span>choice</span></span><span> is </span><span data-ref-id=\"413\" style=\"\"><span>FHIR.Timing</span></span></span><span> then\r\n\t\t  </span><span data-ref-id=\"423\" style=\"\"><span>Message(</span><span data-ref-id=\"418\" style=\"\"><span data-ref-id=\"415\" style=\"\">null as </span><span data-ref-id=\"417\" style=\"\"><span>Interval&lt;</span><span data-ref-id=\"416\" style=\"\"><span>DateTime</span></span><span>&gt;</span></span></span><span data-ref-id=\"419\" style=\"\">, true, </span><span data-ref-id=\"420\" style=\"\"><span>&#x27;1&#x27;</span></span><span>, </span><span data-ref-id=\"421\" style=\"\"><span>&#x27;Error&#x27;</span></span><span>, </span><span data-ref-id=\"422\" style=\"\"><span>&#x27;Cannot compute a single interval from a Timing type&#x27;</span></span><span>)</span></span></span><span>\r\n    </span><span data-ref-id=\"437\" style=\"\"><span>when </span><span data-ref-id=\"427\" style=\"\"><span data-ref-id=\"425\" style=\"\"><span>choice</span></span><span> is </span><span data-ref-id=\"426\" style=\"\"><span>FHIR.string</span></span></span><span> then\r\n      </span><span data-ref-id=\"436\" style=\"\"><span>Message(</span><span data-ref-id=\"431\" style=\"\"><span data-ref-id=\"428\" style=\"\">null as </span><span data-ref-id=\"430\" style=\"\"><span>Interval&lt;</span><span data-ref-id=\"429\" style=\"\"><span>DateTime</span></span><span>&gt;</span></span></span><span data-ref-id=\"432\" style=\"\">, true, </span><span data-ref-id=\"433\" style=\"\"><span>&#x27;1&#x27;</span></span><span>, </span><span data-ref-id=\"434\" style=\"\"><span>&#x27;Error&#x27;</span></span><span>, </span><span data-ref-id=\"435\" style=\"\"><span>&#x27;Cannot compute an interval from a String value&#x27;</span></span><span>)</span></span></span><span>\r\n\t\telse\r\n\t\t\t</span><span data-ref-id=\"441\" style=\"\"><span data-ref-id=\"438\" style=\"\">null as </span><span data-ref-id=\"440\" style=\"\"><span>Interval&lt;</span><span data-ref-id=\"439\" style=\"\"><span>DateTime</span></span><span>&gt;</span></span></span><span>\r\n\tend</span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"579\" style=\"\"><span>define function &quot;GetId&quot;(uri </span><span data-ref-id=\"574\" style=\"\"><span>String</span></span><span>):\r\n\t</span><span data-ref-id=\"578\" style=\"\"><span data-ref-id=\"578\" style=\"\"><span>Last(</span><span data-ref-id=\"577\" style=\"\"><span>Split(</span><span data-ref-id=\"575\" style=\"\"><span>uri</span></span><span>, </span><span data-ref-id=\"576\" style=\"\"><span>&#x27;/&#x27;</span></span><span>)</span></span><span>)</span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"622\" style=\"\"><span>define function &quot;PrincipalDiagnosis&quot;(Encounter </span><span data-ref-id=\"597\" style=\"\"><span>Encounter</span></span><span>):\r\n\t</span><span data-ref-id=\"621\" style=\"\"><span data-ref-id=\"621\" style=\"\"><span><span data-ref-id=\"608\" style=\"\"><span data-ref-id=\"607\" style=\"\"><span>(</span><span data-ref-id=\"607\" style=\"\"><span>singleton from </span><span data-ref-id=\"606\" style=\"\"><span>(</span><span data-ref-id=\"606\" style=\"\"><span><span data-ref-id=\"599\" style=\"\"><span data-ref-id=\"598\" style=\"\"><span><span>Encounter.diagnosis</span></span></span><span> D</span></span></span><span> </span><span data-ref-id=\"605\" style=\"\"><span>where </span><span data-ref-id=\"605\" style=\"\"><span data-ref-id=\"603\" style=\"\"><span data-ref-id=\"600\" style=\"\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"603\" style=\"\"><span>ToInteger(</span><span data-ref-id=\"602\" style=\"\"><span data-ref-id=\"601\" style=\"\"><span>D</span></span><span>.</span><span data-ref-id=\"602\" style=\"\"><span>rank</span></span></span><span>)</span></span></span><span data-ref-id=\"604\" style=\"\"> &#x3D; 1</span></span></span></span><span>)</span></span></span><span>)</span></span><span> PD</span></span></span><span>\r\n\t\t</span><span data-ref-id=\"620\" style=\"\"><span>return </span><span data-ref-id=\"619\" style=\"\"><span>singleton from </span><span data-ref-id=\"618\" style=\"\"><span>(</span><span data-ref-id=\"618\" style=\"\"><span><span data-ref-id=\"610\" style=\"\"><span data-ref-id=\"609\" style=\"\"><span data-ref-id=\"609\" style=\"\"><span>[Condition]</span></span></span><span> C</span></span></span><span> </span><span data-ref-id=\"617\" style=\"\"><span>where </span><span data-ref-id=\"617\" style=\"\"><span data-ref-id=\"612\" style=\"\"><span data-ref-id=\"611\" style=\"\"><span>C</span></span><span>.</span><span data-ref-id=\"612\" style=\"\"><span>id</span></span></span><span> &#x3D; </span><span data-ref-id=\"616\" style=\"\"><span>&quot;GetId&quot;(</span><span data-ref-id=\"615\" style=\"\"><span data-ref-id=\"614\" style=\"\"><span data-ref-id=\"613\" style=\"\"><span>PD</span></span><span>.</span><span data-ref-id=\"614\" style=\"\"><span>condition</span></span></span><span>.</span><span data-ref-id=\"615\" style=\"\"><span>reference</span></span></span><span>)</span></span></span></span></span><span>)</span></span></span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"43\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>define &quot;Intervention Comfort Measures&quot;:\r\n\t</span><span data-ref-id=\"42\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"34\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>(</span><span data-ref-id=\"34\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span><span data-ref-id=\"29\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"28\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"28\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>[&quot;ServiceRequest&quot;: </span><span><span>&quot;Comfort Measures&quot;</span></span><span>]</span></span></span><span> P</span></span></span><span>\r\n\t\t</span><span data-ref-id=\"33\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>where </span><span data-ref-id=\"33\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"31\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"30\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>P</span></span><span>.</span><span data-ref-id=\"31\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>intent</span></span></span><span> &#x3D; </span><span data-ref-id=\"32\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&#x27;order&#x27;</span></span></span></span></span><span>)</span></span><span>\r\n\t\tunion\r\n\t\t</span><span data-ref-id=\"41\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>(</span><span data-ref-id=\"41\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span><span data-ref-id=\"36\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"35\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"35\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>[&quot;Procedure&quot;: </span><span><span>&quot;Comfort Measures&quot;</span></span><span>]</span></span></span><span> InterventionPerformed</span></span></span><span>\r\n\t\t</span><span data-ref-id=\"40\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>where </span><span data-ref-id=\"40\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"38\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"37\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>InterventionPerformed</span></span><span>.</span><span data-ref-id=\"38\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>status</span></span></span><span> &#x3D; </span><span data-ref-id=\"39\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&#x27;completed&#x27;</span></span></span></span></span><span>)</span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"58\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>define &quot;Non Elective Inpatient Encounter&quot;:\r\n\t</span><span data-ref-id=\"57\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span data-ref-id=\"45\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"44\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"44\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>[&quot;Encounter&quot;: </span><span><span>&quot;Non-Elective Inpatient Encounter&quot;</span></span><span>]</span></span></span><span> NonElectiveEncounter</span></span></span><span>\r\n\t\t</span><span data-ref-id=\"56\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>where </span><span data-ref-id=\"56\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"51\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"49\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"46\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>Global</span></span><span>.</span><span data-ref-id=\"49\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&quot;LengthInDays&quot;(</span><span data-ref-id=\"48\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"47\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>NonElectiveEncounter</span></span><span>.</span><span data-ref-id=\"48\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>period</span></span></span><span>)</span></span></span><span data-ref-id=\"50\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"> &lt;&#x3D; 120</span></span><span>\r\n\t\t\tand </span><span data-ref-id=\"55\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"53\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"52\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>NonElectiveEncounter</span></span><span>.</span><span data-ref-id=\"53\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>period</span></span></span><span data-ref-id=\"55\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"> ends during </span><span data-ref-id=\"54\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&quot;Measurement Period&quot;</span></span></span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"75\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>define &quot;All Stroke Encounter&quot;:\r\n\t</span><span data-ref-id=\"74\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span data-ref-id=\"60\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"59\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span>&quot;Non Elective Inpatient Encounter&quot;</span></span></span><span> NonElectiveEncounter</span></span></span><span>\r\n    </span><span data-ref-id=\"73\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>where </span><span data-ref-id=\"73\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"66\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"64\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"63\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"61\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>Global</span></span><span>.</span><span data-ref-id=\"63\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>PrincipalDiagnosis(</span><span data-ref-id=\"62\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>NonElectiveEncounter</span></span><span>)</span></span></span><span>.</span><span data-ref-id=\"64\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>code</span></span></span><span> in </span><span data-ref-id=\"65\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&quot;Hemorrhagic Stroke&quot;</span></span></span><span>\r\n      or </span><span data-ref-id=\"72\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"70\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"69\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"67\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>Global</span></span><span>.</span><span data-ref-id=\"69\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>PrincipalDiagnosis(</span><span data-ref-id=\"68\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>NonElectiveEncounter</span></span><span>)</span></span></span><span>.</span><span data-ref-id=\"70\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>code</span></span></span><span> in </span><span data-ref-id=\"71\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&quot;Ischemic Stroke&quot;</span></span></span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"95\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>define &quot;Encounter with Principal Diagnosis and Age&quot;:\r\n\t</span><span data-ref-id=\"94\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span data-ref-id=\"77\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"76\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span>&quot;All Stroke Encounter&quot;</span></span></span><span> AllStrokeEncounter</span></span></span><span>\r\n\t\t</span><span data-ref-id=\"93\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>with </span><span data-ref-id=\"79\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"78\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"78\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>[&quot;Patient&quot;]</span></span></span><span> BirthDate</span></span><span>\r\n\t\t\tsuch that </span><span data-ref-id=\"92\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"90\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"80\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>Global</span></span><span>.</span><span data-ref-id=\"90\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&quot;CalendarAgeInYearsAt&quot;(</span><span data-ref-id=\"84\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"81\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"84\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>ToDate(</span><span data-ref-id=\"83\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"82\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>BirthDate</span></span><span>.</span><span data-ref-id=\"83\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>birthDate</span></span></span><span>)</span></span></span><span>, </span><span data-ref-id=\"89\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>start of </span><span data-ref-id=\"88\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"85\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"88\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>ToInterval(</span><span data-ref-id=\"87\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"86\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>AllStrokeEncounter</span></span><span>.</span><span data-ref-id=\"87\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>period</span></span></span><span>)</span></span></span></span><span>)</span></span></span><span data-ref-id=\"91\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"> &gt;&#x3D; 18</span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"105\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>define &quot;Ischemic Stroke Encounter&quot;:\r\n\t</span><span data-ref-id=\"104\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span data-ref-id=\"97\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"96\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span>&quot;Encounter with Principal Diagnosis and Age&quot;</span></span></span><span> EncounterWithAge</span></span></span><span>\r\n\t\t</span><span data-ref-id=\"103\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>where </span><span data-ref-id=\"103\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"101\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"100\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"98\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>Global</span></span><span>.</span><span data-ref-id=\"100\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>PrincipalDiagnosis(</span><span data-ref-id=\"99\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>EncounterWithAge</span></span><span>)</span></span></span><span>.</span><span data-ref-id=\"101\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>code</span></span></span><span> in </span><span data-ref-id=\"102\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>&quot;Ischemic Stroke&quot;</span></span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"138\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>define &quot;Ischemic Stroke Encounters with Discharge Disposition&quot;:\r\n\t</span><span data-ref-id=\"137\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span><span data-ref-id=\"107\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"106\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span>&quot;Ischemic Stroke Encounter&quot;</span></span></span><span> IschemicStrokeEncounter</span></span></span><span>\r\n\t\t</span><span data-ref-id=\"136\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>where </span><span data-ref-id=\"136\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"130\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"124\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"118\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"112\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"110\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"109\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"108\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>IschemicStrokeEncounter</span></span><span>.</span><span data-ref-id=\"109\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>hospitalization</span></span></span><span>.</span><span data-ref-id=\"110\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>dischargeDisposition</span></span></span><span> in </span><span data-ref-id=\"111\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&quot;Discharge To Acute Care Facility&quot;</span></span></span><span>\r\n\t\t\tor </span><span data-ref-id=\"117\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"115\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"114\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"113\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>IschemicStrokeEncounter</span></span><span>.</span><span data-ref-id=\"114\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>hospitalization</span></span></span><span>.</span><span data-ref-id=\"115\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>dischargeDisposition</span></span></span><span> in </span><span data-ref-id=\"116\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&quot;Left Against Medical Advice&quot;</span></span></span></span><span>\r\n\t\t\tor </span><span data-ref-id=\"123\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"121\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"120\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"119\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>IschemicStrokeEncounter</span></span><span>.</span><span data-ref-id=\"120\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>hospitalization</span></span></span><span>.</span><span data-ref-id=\"121\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>dischargeDisposition</span></span></span><span> in </span><span data-ref-id=\"122\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&quot;Patient Expired&quot;</span></span></span></span><span>\r\n\t\t\tor </span><span data-ref-id=\"129\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"127\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"126\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"125\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>IschemicStrokeEncounter</span></span><span>.</span><span data-ref-id=\"126\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>hospitalization</span></span></span><span>.</span><span data-ref-id=\"127\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>dischargeDisposition</span></span></span><span> in </span><span data-ref-id=\"128\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&quot;Discharged to Home for Hospice Care&quot;</span></span></span></span><span>\r\n\t\t\tor </span><span data-ref-id=\"135\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"133\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"132\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"131\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span>IschemicStrokeEncounter</span></span><span>.</span><span data-ref-id=\"132\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>hospitalization</span></span></span><span>.</span><span data-ref-id=\"133\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>dischargeDisposition</span></span></span><span> in </span><span data-ref-id=\"134\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&quot;Discharged to Health Care Facility for Hospice Care&quot;</span></span></span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"158\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>define &quot;Comfort Measures during Hospitalization&quot;:\r\n\t</span><span data-ref-id=\"157\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span><span data-ref-id=\"140\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span data-ref-id=\"139\" style=\"background-color:#ccebe0;color:#20744c;border-bottom-color:#20744c;border-bottom-style:solid\"><span><span>&quot;Ischemic Stroke Encounter&quot;</span></span></span><span> IschemicStrokeEncounter</span></span></span><span>\r\n   \t</span><span data-ref-id=\"156\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>with </span><span data-ref-id=\"142\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"141\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span><span>&quot;Intervention Comfort Measures&quot;</span></span></span><span> ComfortMeasure</span></span><span>\r\n    \tsuch that </span><span data-ref-id=\"155\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"151\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"143\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>FHIRHelpers</span></span><span>.</span><span data-ref-id=\"151\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>ToDateTime(</span><span data-ref-id=\"150\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>Coalesce(</span><span data-ref-id=\"147\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"145\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"144\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>ComfortMeasure</span></span><span>.</span><span data-ref-id=\"145\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>performed</span></span></span><span> as </span><span data-ref-id=\"146\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>dateTime</span></span></span><span>,</span><span data-ref-id=\"149\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"148\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>ComfortMeasure</span></span><span>.</span><span data-ref-id=\"149\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>authoredOn</span></span></span><span>)</span></span><span>)</span></span></span><span data-ref-id=\"155\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"> during </span><span data-ref-id=\"154\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span data-ref-id=\"152\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>Global</span></span><span>.</span><span data-ref-id=\"154\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>&quot;HospitalizationWithObservation&quot;(</span><span data-ref-id=\"153\" style=\"background-color:#edd8d0;color:#a63b12;border-bottom-color:#a63b12;border-bottom-style:double\"><span>IschemicStrokeEncounter</span></span><span>)</span></span></span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"14\" style=\"\"><span>define function ToInterval(period </span><span data-ref-id=\"2\" style=\"\"><span>FHIR.Period</span></span><span>):\r\n    </span><span data-ref-id=\"13\" style=\"\"><span data-ref-id=\"13\" style=\"\"><span>if </span><span data-ref-id=\"4\" style=\"\"><span data-ref-id=\"3\" style=\"\"><span>period</span></span><span> is null</span></span><span data-ref-id=\"5\" style=\"\"> then\r\n        null\r\n    else\r\n        </span><span data-ref-id=\"12\" style=\"\"><span>Interval[</span><span data-ref-id=\"8\" style=\"\"><span data-ref-id=\"7\" style=\"\"><span data-ref-id=\"6\" style=\"\"><span>period</span></span><span>.</span><span data-ref-id=\"7\" style=\"\"><span>&quot;start&quot;</span></span></span><span>.</span><span data-ref-id=\"8\" style=\"\"><span>value</span></span></span><span>, </span><span data-ref-id=\"11\" style=\"\"><span data-ref-id=\"10\" style=\"\"><span data-ref-id=\"9\" style=\"\"><span>period</span></span><span>.</span><span data-ref-id=\"10\" style=\"\"><span>&quot;end&quot;</span></span></span><span>.</span><span data-ref-id=\"11\" style=\"\"><span>value</span></span></span><span>]</span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"27\" style=\"\"><span>define function ToQuantity(quantity </span><span data-ref-id=\"15\" style=\"\"><span>FHIR.Quantity</span></span><span>):\r\n    </span><span data-ref-id=\"26\" style=\"\"><span data-ref-id=\"26\" style=\"\"><span>if </span><span data-ref-id=\"17\" style=\"\"><span data-ref-id=\"16\" style=\"\"><span>quantity</span></span><span> is null</span></span><span data-ref-id=\"18\" style=\"\"> then\r\n        null\r\n    else\r\n        </span><span data-ref-id=\"25\" style=\"\"><span>System.Quantity { </span><span><span>value: </span><span data-ref-id=\"21\" style=\"\"><span data-ref-id=\"20\" style=\"\"><span data-ref-id=\"19\" style=\"\"><span>quantity</span></span><span>.</span><span data-ref-id=\"20\" style=\"\"><span>value</span></span></span><span>.</span><span data-ref-id=\"21\" style=\"\"><span>value</span></span></span></span><span>, </span><span><span>unit: </span><span data-ref-id=\"24\" style=\"\"><span data-ref-id=\"23\" style=\"\"><span data-ref-id=\"22\" style=\"\"><span>quantity</span></span><span>.</span><span data-ref-id=\"23\" style=\"\"><span>unit</span></span></span><span>.</span><span data-ref-id=\"24\" style=\"\"><span>value</span></span></span></span><span> }</span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"59\" style=\"\"><span>define function ToCode(coding </span><span data-ref-id=\"41\" style=\"\"><span>FHIR.Coding</span></span><span>):\r\n    </span><span data-ref-id=\"58\" style=\"\"><span data-ref-id=\"58\" style=\"\"><span>if </span><span data-ref-id=\"43\" style=\"\"><span data-ref-id=\"42\" style=\"\"><span>coding</span></span><span> is null</span></span><span data-ref-id=\"44\" style=\"\"> then\r\n        null\r\n    else\r\n        </span><span data-ref-id=\"57\" style=\"\"><span>System.Code {\r\n          </span><span><span>code: </span><span data-ref-id=\"47\" style=\"\"><span data-ref-id=\"46\" style=\"\"><span data-ref-id=\"45\" style=\"\"><span>coding</span></span><span>.</span><span data-ref-id=\"46\" style=\"\"><span>code</span></span></span><span>.</span><span data-ref-id=\"47\" style=\"\"><span>value</span></span></span></span><span>,\r\n          </span><span><span>system: </span><span data-ref-id=\"50\" style=\"\"><span data-ref-id=\"49\" style=\"\"><span data-ref-id=\"48\" style=\"\"><span>coding</span></span><span>.</span><span data-ref-id=\"49\" style=\"\"><span>system</span></span></span><span>.</span><span data-ref-id=\"50\" style=\"\"><span>value</span></span></span></span><span>,\r\n          </span><span><span>version: </span><span data-ref-id=\"53\" style=\"\"><span data-ref-id=\"52\" style=\"\"><span data-ref-id=\"51\" style=\"\"><span>coding</span></span><span>.</span><span data-ref-id=\"52\" style=\"\"><span>version</span></span></span><span>.</span><span data-ref-id=\"53\" style=\"\"><span>value</span></span></span></span><span>,\r\n          </span><span><span>display: </span><span data-ref-id=\"56\" style=\"\"><span data-ref-id=\"55\" style=\"\"><span data-ref-id=\"54\" style=\"\"><span>coding</span></span><span>.</span><span data-ref-id=\"55\" style=\"\"><span>display</span></span></span><span>.</span><span data-ref-id=\"56\" style=\"\"><span>value</span></span></span></span><span>\r\n        }</span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"75\" style=\"\"><span>define function ToConcept(concept </span><span data-ref-id=\"60\" style=\"\"><span>FHIR.CodeableConcept</span></span><span>):\r\n    </span><span data-ref-id=\"74\" style=\"\"><span data-ref-id=\"74\" style=\"\"><span>if </span><span data-ref-id=\"62\" style=\"\"><span data-ref-id=\"61\" style=\"\"><span>concept</span></span><span> is null</span></span><span data-ref-id=\"63\" style=\"\"> then\r\n        null\r\n    else\r\n        </span><span data-ref-id=\"73\" style=\"\"><span>System.Concept {\r\n            </span><span><span>codes: </span><span data-ref-id=\"69\" style=\"\"><span><span data-ref-id=\"65\" style=\"\"><span data-ref-id=\"64\" style=\"\"><span><span>concept.coding</span></span></span><span> C</span></span></span><span> </span><span data-ref-id=\"68\" style=\"\"><span>return </span><span data-ref-id=\"67\" style=\"\"><span>ToCode(</span><span data-ref-id=\"66\" style=\"\"><span>C</span></span><span>)</span></span></span></span></span><span>,\r\n            </span><span><span>display: </span><span data-ref-id=\"72\" style=\"\"><span data-ref-id=\"71\" style=\"\"><span data-ref-id=\"70\" style=\"\"><span>concept</span></span><span>.</span><span data-ref-id=\"71\" style=\"\"><span>text</span></span></span><span>.</span><span data-ref-id=\"72\" style=\"\"><span>value</span></span></span></span><span>\r\n        }</span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"79\" style=\"\"><span>define function ToString(value </span><span data-ref-id=\"76\" style=\"\"><span>AccountStatus</span></span><span>): </span><span data-ref-id=\"78\" style=\"\"><span data-ref-id=\"78\" style=\"\"><span data-ref-id=\"77\" style=\"\"><span>value</span></span><span>.</span><span data-ref-id=\"78\" style=\"\"><span>value</span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"1075\" style=\"\"><span>define function ToDate(value </span><span data-ref-id=\"1072\" style=\"\"><span>date</span></span><span>): </span><span data-ref-id=\"1074\" style=\"\"><span data-ref-id=\"1074\" style=\"\"><span data-ref-id=\"1073\" style=\"\"><span>value</span></span><span>.</span><span data-ref-id=\"1074\" style=\"\"><span>value</span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"1079\" style=\"\"><span>define function ToDateTime(value </span><span data-ref-id=\"1076\" style=\"\"><span>dateTime</span></span><span>): </span><span data-ref-id=\"1078\" style=\"\"><span data-ref-id=\"1078\" style=\"\"><span data-ref-id=\"1077\" style=\"\"><span>value</span></span><span>.</span><span data-ref-id=\"1078\" style=\"\"><span>value</span></span></span></span></span></code>\n</pre><pre style=\"tab-size: 2; border-bottom-width: 4px; line-height: 1.4\">\n<code>\n<span data-ref-id=\"1091\" style=\"\"><span>define function ToInteger(value </span><span data-ref-id=\"1088\" style=\"\"><span>integer</span></span><span>): </span><span data-ref-id=\"1090\" style=\"\"><span data-ref-id=\"1090\" style=\"\"><span data-ref-id=\"1089\" style=\"\"><span>value</span></span><span>.</span><span data-ref-id=\"1090\" style=\"\"><span>value</span></span></span></span></span></code>\n</pre></div>"},"group":[{"id":"group-1","population":[{"code":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-population","code":"initial-population","display":"Initial Population"}]},"count":1},{"code":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-population","code":"numerator","display":"Numerator"}]},"count":1},{"code":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-population","code":"denominator","display":"Denominator"}]},"count":1},{"code":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-population","code":"denominator-exclusion","display":"Denominator Exclusion"}]},"count":0},{"code":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-population","code":"denominator-exception","display":"Denominator Exception"}]},"count":0}],"measureScore":{"value":1}}],"contained":[{"resourceType":"Observation","code":{"text":"sde-ethnicity"},"id":"e15d0534-4492-409a-95af-ea18aa541f67","status":"final","extension":[{"url":"http://hl7.org/fhir/StructureDefinition/cqf-measureInfo","extension":[{"url":"measure","valueCanonical":"http://hl7.org/fhir/us/cqfmeasures/Measure/EXM104"},{"url":"populationId","valueString":"sde-ethnicity"}]}],"valueCodeableConcept":{"coding":[]}},{"resourceType":"Observation","code":{"text":"sde-payer"},"id":"d7809484-2bb1-4152-979f-db47b676a2c9","status":"final","extension":[{"url":"http://hl7.org/fhir/StructureDefinition/cqf-measureInfo","extension":[{"url":"measure","valueCanonical":"http://hl7.org/fhir/us/cqfmeasures/Measure/EXM104"},{"url":"populationId","valueString":"sde-payer"}]}],"valueCodeableConcept":{"coding":[]}},{"resourceType":"Observation","code":{"text":"sde-race"},"id":"288a0f96-c78d-4df2-afb2-e98502f391ab","status":"final","extension":[{"url":"http://hl7.org/fhir/StructureDefinition/cqf-measureInfo","extension":[{"url":"measure","valueCanonical":"http://hl7.org/fhir/us/cqfmeasures/Measure/EXM104"},{"url":"populationId","valueString":"sde-race"}]}],"valueCodeableConcept":{"coding":[]}},{"resourceType":"Observation","code":{"text":"sde-sex"},"id":"7ee4964e-8149-43ec-8c97-4dbec714ea79","status":"final","extension":[{"url":"http://hl7.org/fhir/StructureDefinition/cqf-measureInfo","extension":[{"url":"measure","valueCanonical":"http://hl7.org/fhir/us/cqfmeasures/Measure/EXM104"},{"url":"populationId","valueString":"sde-sex"}]}],"valueCodeableConcept":{"coding":[{"system":"http://hl7.org/fhir/v3/AdministrativeGender","code":"F","display":"Female"}]}}],"evaluatedResource":[{"reference":"Patient/fc433d3c-d07b-492e-9871-aec811e874aa"},{"reference":"MedicationRequest/b3895eef-4ecf-4c5b-8cf5-0e1c8f2a70f0"},{"reference":"Encounter/613a409c-3530-4949-8bab-84592b409dc3"},{"reference":"#e15d0534-4492-409a-95af-ea18aa541f67"},{"reference":"#d7809484-2bb1-4152-979f-db47b676a2c9"},{"reference":"#288a0f96-c78d-4df2-afb2-e98502f391ab"},{"reference":"#7ee4964e-8149-43ec-8c97-4dbec714ea79"}],"subject":{"reference":"Patient/fc433d3c-d07b-492e-9871-aec811e874aa"}}